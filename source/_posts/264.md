---
title: C++ 中的 rand 函数和 srand 函数
categories: 编程
tags:
  - 编程
  - C++
date: 2019-03-30 10:12:18
---

## 一、rand 函数

- 函数名：rand
- 功能：随机数发生器
- 用法：int rand(void)
- 所在头文件：cstdlib

rand()的内部实现是用**线性同余法**做的，它不是真的随机数，因其周期特别长，故在一定的范围里可看成是随机的。rand()返回一随机数值的范围在0至RAND_MAX间。RAND_MAX是定义在cstdlib头文件中的一个常量。要想每次都产生不同的随机数序列，用户需要用 srand 函数设定随机数种子。

要想产生一定范围内的随机数，可以用取余的方式。

```
v1 = rand() % 100;         // 起始值为0，共计100个值，范围为0到99。
v2 = rand() % 100 + 1;     // 起始值为1，共计100个值，范围为1到100。
v3 = rand() % 30 + 1985;   // 起始值为1985，共计30个值，范围为1985到2014。
```

## 二、srand 函数

- 函数名：srand
- 功能：初始化随机数发生器
- 用法：void srand(unsigned int seed)

srand()用来设置rand()产生随机数时的随机数种子。不同的随机数种子，产生不同的随机数序列。比较常见的使用方式为:

```
srand (time(NULL));
```

其中 time 函数定义在 ctime 头文件中。
